{% extends 'base.html' %}

{% block title %} Real-Time Sharing {% endblock title%}

{% block content %}
<div class="container">
    <div class="jumbotron">
        <h4 class="display-4">Share Code Real Time</h4>
        <p class="lead">Create a room for personal sharing</p>
        <hr class="my-4">
        <p>An online code editor for interviews, troubleshooting, teaching & moreâ€¦</p>

        Start sharing by creating a room<br><br>
        <input id="room-name-input" type="text" size="100" class="form-control border" placeholder="Room name" style="background-color: white"><br>
        <button id="room-name-submit" class="btn btn-success">
            <i class="fa fa-plus-circle"></i>&nbsp;Create Room
        </button>
        <script>
            document.querySelector('#room-name-input').focus();
            document.querySelector('#room-name-input').onkeyup = function(e) {
                if (e.keyCode === 13) {  // enter, return
                    document.querySelector('#room-name-submit').click();
                }
            };

            document.querySelector('#room-name-submit').onclick = function(e) {
                var roomName = document.querySelector('#room-name-input').value;
                if (roomName) {
                    url = "{% url 'rtshare:create_room' %}";
                    window.location.pathname = url +"/"+ roomName;
                } else {
                    window.location.pathname = "{% url 'rtshare:create_room' %}";
                }
            };
        </script>
    </div>
</div>
{% endblock %}